# Changelog

All notable changes to this project will be documented in this file. See
[Conventional Commits](https://conventionalcommits.org) for commit guidelines.

## [1.29.1](https://github.com/emma-simbot/policy/compare/v1.29.0...v1.29.1) (2023-02-15)


### Bug Fixes

* circular dependency ([#711](https://github.com/emma-simbot/policy/issues/711)) ([b58df74](https://github.com/emma-simbot/policy/commit/b58df7406e1d3075b3239253162649540b696896))

## [1.29.0](https://github.com/emma-simbot/policy/compare/v1.28.1...v1.29.0) (2023-02-15)


### Features

* enables torch pickle for requests/responses ([#708](https://github.com/emma-simbot/policy/issues/708)) ([9548da5](https://github.com/emma-simbot/policy/commit/9548da571c2c80a4ffe868803fb64fc57ea70e8c))

## [1.28.1](https://github.com/emma-simbot/policy/compare/v1.28.0...v1.28.1) (2023-02-15)


### Bug Fixes

* ignore entity labels when converting feature dicts to tensors ([#709](https://github.com/emma-simbot/policy/issues/709)) ([8f37ee8](https://github.com/emma-simbot/policy/commit/8f37ee89a08d3fccb14816b6394f0d878903f4f6))

## [1.28.0](https://github.com/emma-simbot/policy/compare/v1.27.0...v1.28.0) (2023-02-11)


### Features

* add new examine sticky examples ([#704](https://github.com/emma-simbot/policy/issues/704)) ([121bcda](https://github.com/emma-simbot/policy/commit/121bcda1be9623904687320120ac6da4433d65f7))

## [1.27.0](https://github.com/emma-simbot/policy/compare/v1.26.0...v1.27.0) (2023-02-08)


### Features

* Add dataset visualization ([#701](https://github.com/emma-simbot/policy/issues/701)) ([da6b764](https://github.com/emma-simbot/policy/commit/da6b764af4cfc3845fbb6fe5b63a2d0c0b854c2e))

## [1.26.0](https://github.com/emma-simbot/policy/compare/v1.25.1...v1.26.0) (2023-02-07)


### Features

* Raw text matching with examine sticky note ([#698](https://github.com/emma-simbot/policy/issues/698)) ([776d364](https://github.com/emma-simbot/policy/commit/776d364ce9f00aff6e16751981c8af6a4a3b2868))

## [1.25.1](https://github.com/emma-simbot/policy/compare/v1.25.0...v1.25.1) (2023-02-06)


### Bug Fixes

* negative candidate ids ([#696](https://github.com/emma-simbot/policy/issues/696)) ([8a27cf6](https://github.com/emma-simbot/policy/commit/8a27cf6f69fe95b1cd8ac760f04fc9fe58546e9e))

## [1.25.0](https://github.com/emma-simbot/policy/compare/v1.24.0...v1.25.0) (2023-02-06)


### Features

* Filter SimBot action and nlu dbs based on match with predicted bounding boxes ([#687](https://github.com/emma-simbot/policy/issues/687)) ([fa4ad74](https://github.com/emma-simbot/policy/commit/fa4ad744ea43be67b136e9f8f54da26543177091))

## [1.24.0](https://github.com/emma-simbot/policy/compare/v1.23.1...v1.24.0) (2023-01-30)


### Features

* Update raw text matcher forward ([#686](https://github.com/emma-simbot/policy/issues/686)) ([48a2047](https://github.com/emma-simbot/policy/commit/48a20473a8fd8c279eec3d9f86c07a66646f91a5))

## [1.23.1](https://github.com/emma-simbot/policy/compare/v1.23.0...v1.23.1) (2023-01-30)


### Bug Fixes

* Append the entire previous action list ([#684](https://github.com/emma-simbot/policy/issues/684)) ([f43a38d](https://github.com/emma-simbot/policy/commit/f43a38dd0df16d739417256b855facf73ac11d59))

## [1.23.0](https://github.com/emma-simbot/policy/compare/v1.22.1...v1.23.0) (2023-01-27)


### Features

* add plot temperature script ([#683](https://github.com/emma-simbot/policy/issues/683)) ([450b8a8](https://github.com/emma-simbot/policy/commit/450b8a8a576088c8677b150eca1ea5bd8844d76f))

## [1.22.1](https://github.com/emma-simbot/policy/compare/v1.22.0...v1.22.1) (2023-01-27)


### Bug Fixes

* remove unnecessary log point ([504fbca](https://github.com/emma-simbot/policy/commit/504fbca0bcb4ad56130e330a4069a72c94665f6f))

## [1.22.0](https://github.com/emma-simbot/policy/compare/v1.21.0...v1.22.0) (2023-01-26)


### Features

* search itm ([#680](https://github.com/emma-simbot/policy/issues/680)) ([e4fa938](https://github.com/emma-simbot/policy/commit/e4fa93895117ab8eab309d3d8372a82dfa76bb5b))

## [1.21.0](https://github.com/emma-simbot/policy/compare/v1.20.0...v1.21.0) (2023-01-26)


### Features

* Unifying all NLU prediction processing in a class ([#682](https://github.com/emma-simbot/policy/issues/682)) ([4c5bf3c](https://github.com/emma-simbot/policy/commit/4c5bf3cd5f2a7957523d18cdde894a02fed558b9))

## [1.20.0](https://github.com/emma-simbot/policy/compare/v1.19.0...v1.20.0) (2023-01-25)


### Features

* Restore NLU ambiguity rule ([#681](https://github.com/emma-simbot/policy/issues/681)) ([8b0012f](https://github.com/emma-simbot/policy/commit/8b0012f1c066c2c5e206c52808e957325e132e23))

## [1.19.0](https://github.com/emma-simbot/policy/compare/v1.18.1...v1.19.0) (2023-01-23)


### Features

* Update raw text matcher with take a step ([#678](https://github.com/emma-simbot/policy/issues/678)) ([ddc909a](https://github.com/emma-simbot/policy/commit/ddc909a96c4083cb99cb40630a1d4eca83b82550))


### Bug Fixes

* Update nlu datset ([#677](https://github.com/emma-simbot/policy/issues/677)) ([d5ac6be](https://github.com/emma-simbot/policy/commit/d5ac6be46ee34d7a41fe1f4139b53f4e76223ec0))

## [1.18.1](https://github.com/emma-simbot/policy/compare/v1.18.0...v1.18.1) (2023-01-23)


### Bug Fixes

* the width height when saving the features in simbot annotations ([#675](https://github.com/emma-simbot/policy/issues/675)) ([7a3ac23](https://github.com/emma-simbot/policy/commit/7a3ac239d2a336318aef27846c3213ede4bef290))

## [1.18.0](https://github.com/emma-simbot/policy/compare/v1.17.0...v1.18.0) (2023-01-21)


### Features

* Do not paraphrase annotations, fix punc and lowercasing ([#676](https://github.com/emma-simbot/policy/issues/676)) ([9fcb7ae](https://github.com/emma-simbot/policy/commit/9fcb7aeea24916f5cb3306ef8073921423b7152d))

## [1.17.0](https://github.com/emma-simbot/policy/compare/v1.16.1...v1.17.0) (2023-01-20)


### Features

* simbot annotation tool ([#668](https://github.com/emma-simbot/policy/issues/668)) ([d45d6cc](https://github.com/emma-simbot/policy/commit/d45d6cc4a75f958ac3fb7a30d8e12beac9f81758))

## [1.16.1](https://github.com/emma-simbot/policy/compare/v1.16.0...v1.16.1) (2023-01-13)


### Bug Fixes

* Changes to deal with oldest to most recent input in GFH ([#666](https://github.com/emma-simbot/policy/issues/666)) ([d53d82e](https://github.com/emma-simbot/policy/commit/d53d82ed2ecf16095d191f4b3d7a6d09dc06429b))

## [1.16.0](https://github.com/emma-simbot/policy/compare/v1.15.2...v1.16.0) (2023-01-12)


### Features

* Update raw text matching ([#665](https://github.com/emma-simbot/policy/issues/665)) ([665da71](https://github.com/emma-simbot/policy/commit/665da71405e5b5f9bbfce544696df3cf9878dff5))

## [1.15.2](https://github.com/emma-simbot/policy/compare/v1.15.1...v1.15.2) (2023-01-12)


### Bug Fixes

* Remove decoder length setting in GFH ([#664](https://github.com/emma-simbot/policy/issues/664)) ([fbc8ba6](https://github.com/emma-simbot/policy/commit/fbc8ba69486a27e61335ed127ed4aa6a2dfad6d5))

## [1.15.1](https://github.com/emma-simbot/policy/compare/v1.15.0...v1.15.1) (2023-01-11)


### Bug Fixes

* instrumentation for simbot apis ([d4cf9f6](https://github.com/emma-simbot/policy/commit/d4cf9f66f31bd22ada4a220f576ec9fa580fbe3a))

## [1.15.0](https://github.com/emma-simbot/policy/compare/v1.14.2...v1.15.0) (2023-01-11)


### Features

* Update raw text matching examples ([#661](https://github.com/emma-simbot/policy/issues/661)) ([0719b99](https://github.com/emma-simbot/policy/commit/0719b9973c75892c44e85d60e6a4a34436c38041))

## [1.14.2](https://github.com/emma-simbot/policy/compare/v1.14.1...v1.14.2) (2023-01-10)


### Bug Fixes

* set decoder input ids to None in GFH ([#663](https://github.com/emma-simbot/policy/issues/663)) ([4e90a64](https://github.com/emma-simbot/policy/commit/4e90a64e13dafe58350b2d26869d742b7219b4be))

## [1.14.1](https://github.com/emma-simbot/policy/compare/v1.14.0...v1.14.1) (2023-01-06)


### Bug Fixes

* lowercase in input builder before tokenization ([#662](https://github.com/emma-simbot/policy/issues/662)) ([474fca2](https://github.com/emma-simbot/policy/commit/474fca22078bdb741af67a53dfa9d5532f12f0e4))

## [1.14.0](https://github.com/emma-simbot/policy/compare/v1.13.0...v1.14.0) (2023-01-05)


### Features

* GFH Implementaion ([#648](https://github.com/emma-simbot/policy/issues/648)) ([850cedf](https://github.com/emma-simbot/policy/commit/850cedfa564648fe6328a1446bd9a75cadcd2c86))

## [1.13.0](https://github.com/emma-simbot/policy/compare/v1.12.1...v1.13.0) (2022-12-23)


### Features

* added tracing for policy and NLU model ([#654](https://github.com/emma-simbot/policy/issues/654)) ([9894b18](https://github.com/emma-simbot/policy/commit/9894b1813294cf07242deecb0f4fa6a149607b82))

## [1.12.1](https://github.com/emma-simbot/policy/compare/v1.12.0...v1.12.1) (2022-12-20)


### Bug Fixes

* revert tracing enabled for all the web services ([#651](https://github.com/emma-simbot/policy/issues/651)) ([#652](https://github.com/emma-simbot/policy/issues/652)) ([b2b070a](https://github.com/emma-simbot/policy/commit/b2b070acc6cc0eb897873de8a0472638fceb2fb3))

## [1.12.0](https://github.com/emma-simbot/policy/compare/v1.11.0...v1.12.0) (2022-12-20)


### Features

* tracing enabled for all the web services ([#651](https://github.com/emma-simbot/policy/issues/651)) ([082b211](https://github.com/emma-simbot/policy/commit/082b2111612e4afd1ad6b1aea437eaedf962b621))

## [1.11.0](https://github.com/emma-simbot/policy/compare/v1.10.2...v1.11.0) (2022-12-16)


### Features

* Update the NLU for the new targets ([#643](https://github.com/emma-simbot/policy/issues/643)) ([2a6a196](https://github.com/emma-simbot/policy/commit/2a6a196cd52bf10686d4779ce0b5144554a69cab))

## [1.10.2](https://github.com/emma-simbot/policy/compare/v1.10.1...v1.10.2) (2022-12-13)


### Bug Fixes

* wrong room names, remove fullstop from lookup ([#647](https://github.com/emma-simbot/policy/issues/647)) ([0d45b67](https://github.com/emma-simbot/policy/commit/0d45b6797ddd868b440f75d1662653001525e54d))

## [1.10.1](https://github.com/emma-simbot/policy/compare/v1.10.0...v1.10.1) (2022-12-13)


### Bug Fixes

* append stop token in raw text match ([#646](https://github.com/emma-simbot/policy/issues/646)) ([399e65f](https://github.com/emma-simbot/policy/commit/399e65fbb687783338b92f7654cbf814f31166e9))
* reception name ([#645](https://github.com/emma-simbot/policy/issues/645)) ([c687f25](https://github.com/emma-simbot/policy/commit/c687f25e9493788b80635407a2ef72597aaef3cd))

## [1.10.0](https://github.com/emma-simbot/policy/compare/v1.9.0...v1.10.0) (2022-12-13)


### Features

* Add low level action predictor with raw text match ([#644](https://github.com/emma-simbot/policy/issues/644)) ([a8ad897](https://github.com/emma-simbot/policy/commit/a8ad897a28cf76f5150d27eb40766c750887873f))

## [1.9.0](https://github.com/emma-simbot/policy/compare/v1.8.0...v1.9.0) (2022-12-05)


### Features

* Add new act types (low level and search) to NLU ([#630](https://github.com/emma-simbot/policy/issues/630)) ([97406fc](https://github.com/emma-simbot/policy/commit/97406fc26d3776d90af41519d5c2720c7f6406a2))

## [1.8.0](https://github.com/emma-simbot/policy/compare/v1.7.0...v1.8.0) (2022-11-30)


### Features

* Create find endpoint ([#641](https://github.com/emma-simbot/policy/issues/641)) ([5737b55](https://github.com/emma-simbot/policy/commit/5737b558a9984f73bbeedf30a32a69b155d50b6d))

## [1.7.0](https://github.com/emma-simbot/policy/compare/v1.6.0...v1.7.0) (2022-11-30)


### Features

* Keep only target frame for each action ([#640](https://github.com/emma-simbot/policy/issues/640)) ([96a30a4](https://github.com/emma-simbot/policy/commit/96a30a40546a2d4fd3101369550c0422d3b4d0d1))

## [1.6.0](https://github.com/emma-simbot/policy/compare/v1.5.2...v1.6.0) (2022-11-24)


### Features

* Add distributed weighted sampler ([#634](https://github.com/emma-simbot/policy/issues/634)) ([3f0f82b](https://github.com/emma-simbot/policy/commit/3f0f82baad94d4037b95ea824cb7beee9e0e594b))


### Bug Fixes

* test case of all zero weights ([#636](https://github.com/emma-simbot/policy/issues/636)) ([2313f20](https://github.com/emma-simbot/policy/commit/2313f20a9491d2cc168620cfebf7581d1fa35ec8))

## [1.5.2](https://github.com/emma-simbot/policy/compare/v1.5.1...v1.5.2) (2022-11-17)


### Bug Fixes

* **hack/simbot-nlu:** comment out everything to do with the `SimBotClarificationTypes` ([#628](https://github.com/emma-simbot/policy/issues/628)) ([68a2176](https://github.com/emma-simbot/policy/commit/68a21763242feb91af308e798648559cd410e001))

## [1.5.1](https://github.com/emma-simbot/policy/compare/v1.5.0...v1.5.1) (2022-11-11)


### Bug Fixes

* Fix bugs in simbot datasets ([#625](https://github.com/emma-simbot/policy/issues/625)) ([6672154](https://github.com/emma-simbot/policy/commit/667215445491d69503a6cedb7f4200d82539310d))

## [1.5.0](https://github.com/emma-simbot/policy/compare/v1.4.1...v1.5.0) (2022-11-10)


### Features

* Paraphrase simbot actions ([#623](https://github.com/emma-simbot/policy/issues/623)) ([af31c1a](https://github.com/emma-simbot/policy/commit/af31c1a8a362d96d4e86720d7429c304e6404cc8))

## [1.4.1](https://github.com/emma-simbot/policy/compare/v1.4.0...v1.4.1) (2022-11-03)


### Bug Fixes

* Fix bug from NLU imports ([#621](https://github.com/emma-simbot/policy/issues/621)) ([26cbdca](https://github.com/emma-simbot/policy/commit/26cbdca4618e0371471ae4e7ede67427b2f67d6b))

## [1.4.0](https://github.com/emma-simbot/policy/compare/v1.3.0...v1.4.0) (2022-11-03)


### Features

* Update NLU and Action Prediction with synthetic ambiguous go-to instructions ([#614](https://github.com/emma-simbot/policy/issues/614)) ([85381fe](https://github.com/emma-simbot/policy/commit/85381fe779751cf32abb0c651f9f88d384905f9f))

## [1.3.0](https://github.com/emma-simbot/policy/compare/v1.2.0...v1.3.0) (2022-11-02)


### Features

* Decode images ([#618](https://github.com/emma-simbot/policy/issues/618)) ([a02f41b](https://github.com/emma-simbot/policy/commit/a02f41bdcf1eee4e09a5827609e17f9123064466))

## [1.2.0](https://github.com/emma-simbot/policy/compare/v1.1.2...v1.2.0) (2022-11-01)


### Features

* Reduce false positives for clarification ([#619](https://github.com/emma-simbot/policy/issues/619)) ([ad88eb7](https://github.com/emma-simbot/policy/commit/ad88eb72a85a0fdd1393c7dc9934dcf72e0497b4))

## [1.1.2](https://github.com/emma-simbot/policy/compare/v1.1.1...v1.1.2) (2022-10-31)


### Bug Fixes

* Fix bug in input text preparation ([#620](https://github.com/emma-simbot/policy/issues/620)) ([c83768c](https://github.com/emma-simbot/policy/commit/c83768c16f2c824207efd60b9deef9bbdbd4768c))

## [1.1.1](https://github.com/emma-simbot/policy/compare/v1.1.0...v1.1.1) (2022-10-29)


### Bug Fixes

* re-add fastapi as a web dependency and update the dockerfile ([cf2c778](https://github.com/emma-simbot/policy/commit/cf2c77806cee2308180bd409afcae1810bb20e2e))

## [1.1.0](https://github.com/emma-simbot/policy/compare/v1.0.0...v1.1.0) (2022-10-28)


### Features

* Replace QA format with speaker tokens ([#616](https://github.com/emma-simbot/policy/issues/616)) ([895cb8d](https://github.com/emma-simbot/policy/commit/895cb8d65c03459b0581b276f0a7d80aa4756747))

## 1.0.0 (2022-10-27)


### Features

* Ban generating past frames ([#604](https://github.com/emma-simbot/policy/issues/604)) ([a356c6b](https://github.com/emma-simbot/policy/commit/a356c6bbb51ba4f472fc077dd135f9cb9cca419c))
* be able to change the number of target tokens per decoding step from the args ([#395](https://github.com/emma-simbot/policy/issues/395)) ([0782e71](https://github.com/emma-simbot/policy/commit/0782e719cf02276c0a6b359d503f85ebbd2e38f0))
* fix the image comparison to stop being false positive ([#378](https://github.com/emma-simbot/policy/issues/378)) ([558e1cb](https://github.com/emma-simbot/policy/commit/558e1cb903cd29f68f5400d9d2a6037dddfa6574))
* Subsample look and goto table/desk ([#607](https://github.com/emma-simbot/policy/issues/607)) ([09344bc](https://github.com/emma-simbot/policy/commit/09344bc444ab6bff18c126984ab9ee7910f7d957))


### Bug Fixes

* Add endpoint in run_model ([#615](https://github.com/emma-simbot/policy/issues/615)) ([53fa772](https://github.com/emma-simbot/policy/commit/53fa772e5135699f303ce005be60653fbb74efeb))
* bounding boxes ([#382](https://github.com/emma-simbot/policy/issues/382)) ([a834f5d](https://github.com/emma-simbot/policy/commit/a834f5dac35a70588ac3376283bd8938591e83df))
* dataloader types in emma pretrain datamodule ([#137](https://github.com/emma-simbot/policy/issues/137)) ([b317198](https://github.com/emma-simbot/policy/commit/b317198f6c0f831cec4098c4cfc266b26399347f))
* empty trajectory or action delimiter only ([#398](https://github.com/emma-simbot/policy/issues/398)) ([028cb94](https://github.com/emma-simbot/policy/commit/028cb9450fef071ea648bfcd3616adde1bfd7577))
* input encoding needs to be the same as the training ([#380](https://github.com/emma-simbot/policy/issues/380)) ([094b984](https://github.com/emma-simbot/policy/commit/094b98474b4c2c06162fa8509aeac1f677dfbf9f))
* original history length set to minumum ([#386](https://github.com/emma-simbot/policy/issues/386)) ([659721d](https://github.com/emma-simbot/policy/commit/659721d46948112936321d4dcaa66f6f50734c17))
* pick a random object index from the ones in the current frame ([#393](https://github.com/emma-simbot/policy/issues/393)) ([565beb5](https://github.com/emma-simbot/policy/commit/565beb526a1d1d02db35c4bee966f9ff3531c0fe))
* set the original history length to be max at the max frames ([#383](https://github.com/emma-simbot/policy/issues/383)) ([39df383](https://github.com/emma-simbot/policy/commit/39df3838f3dc029116da17de4ed3f9f8f8968cae))
* update the previous frame AFTER the comparison is made ([#381](https://github.com/emma-simbot/policy/issues/381)) ([6e8f979](https://github.com/emma-simbot/policy/commit/6e8f979d667e2cf8d80e63ab03e44d9eeb505cdb))


### Reverts

* Revert "fix: remove the remaining load ref coco images function" ([2d35446](https://github.com/emma-simbot/policy/commit/2d354467f20d97bc74fde9fa8e43e9d89892627a))
* Revert "Run the tests CI faster (#211)" ([461edff](https://github.com/emma-simbot/policy/commit/461edffe3255d966ac9c166893e8b06250dae72d)), closes [#211](https://github.com/emma-simbot/policy/issues/211)
